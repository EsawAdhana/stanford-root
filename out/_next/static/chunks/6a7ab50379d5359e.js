(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,10629,e=>{"use strict";let t,r,n;var o=e.i(43476),i=e.i(71645),l=e.i(14282),a=e.i(72590),s=e.i(75157),c=e.i(75254);let d=(0,c.default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var u=e.i(63059);let f=(0,c.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),p=(0,c.default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),m=(0,c.default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var h=e.i(19455),g=e.i(27444);let x=[{key:"Mon",label:"Mon"},{key:"Tue",label:"Tue"},{key:"Wed",label:"Wed"},{key:"Thu",label:"Thu"},{key:"Fri",label:"Fri"}];function y(e,t,r){return Math.min(r,Math.max(t,e))}function v({currentTerm:e,onPrevTerm:t,onNextTerm:r}){let{items:n,removeItem:c,toggleOptionalMeeting:v}=(0,l.useCartStore)(),[b,w]=(0,i.useState)(null),T=n.filter(t=>t.selectedTerm?t.selectedTerm===e:t.terms&&e&&t.terms.includes(e)||t.term===e),j=e=>{let t=(e.days||[]).join("/"),r=e.endTime?`${e.startTime} - ${e.endTime}`:e.startTime,n=e.location&&"TBA"!==e.location?` • ${e.location}`:"";return t||r?t?`${t} ${r}${n}`:`${r}${n}`:null},R=(0,i.useMemo)(()=>{let t=[];return T.forEach(r=>{(0,a.parseMeetingTimes)(r,e).forEach(e=>{if(!e.startTime||!e.endTime)return;let n=(0,a.timeToMinutes)(e.startTime),o=(0,a.timeToMinutes)(e.endTime);n&&o&&!(o<=n)&&(e.days||[]).forEach(i=>{if(!x.some(e=>e.key===i))return;let l=(0,a.isMeetingOptional)(r,i,e.startTime,e.endTime);t.push({id:`${r.id}-${i}-${n}-${o}`,courseId:r.id,courseCode:`${r.subject} ${r.code}`,title:r.title,day:i,startTime:e.startTime,endTime:e.endTime,start:n,end:o,location:e.location||"",isOptional:l})})})}),t},[T,e]),N=(0,i.useMemo)(()=>{let e=540,t=1020;if(R.length>0){let r=R.reduce((e,t)=>Math.min(e,t.start),1/0),n=R.reduce((e,t)=>Math.max(e,t.end),0);r<e&&(e=60*Math.floor(r/60)),n>t&&(t=60*Math.ceil(n/60))}return e=y(e,0,1380),t=y(t,e+60,1440),{startMinutes:e,endMinutes:t}},[R]),A=N.startMinutes,C=N.endMinutes,E=(0,i.useMemo)(()=>Array.from({length:(C-A)/60+1},(e,t)=>A/60+t),[A,C]),k=(0,i.useMemo)(()=>{let e={Mon:[],Tue:[],Wed:[],Thu:[],Fri:[]};return x.forEach(({key:t})=>{let r=R.filter(e=>e.day===t);e[t]=function(e){let t=[...e].sort((e,t)=>e.start-t.start||t.end-e.end),r=[],n=[],o=[],i=()=>{if(0===o.length)return;let e=o.reduce((e,t)=>Math.max(e,t.colIndex),0)+1;o.forEach(t=>{t.colCount=e}),o=[]};for(let e of t){0===(n=n.filter(t=>t.end>e.start)).length&&i();let t=new Set(n.map(e=>e.colIndex)),l=0;for(;t.has(l);)l++;let a={...e,colIndex:l,colCount:1};n.push(a),o.push(a),r.push(a)}return i(),r}(r)}),e},[R]);return(0,o.jsxs)("div",{className:"flex flex-col min-h-0 relative",children:[(0,o.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_360px] gap-6 min-h-0",children:[(0,o.jsxs)("div",{className:"rounded-xl border bg-card overflow-hidden min-h-[520px] flex flex-col",children:[(0,o.jsxs)("div",{className:"grid grid-cols-[40px_1fr_40px] items-center border-b bg-card/80 backdrop-blur supports-[backdrop-filter]:bg-card/60 px-2 py-2",children:[(0,o.jsx)(h.Button,{variant:"ghost",size:"icon",onClick:t,"aria-label":"Previous term",children:(0,o.jsx)(d,{className:"h-4 w-4"})}),(0,o.jsx)("div",{className:"text-center font-semibold text-base",children:e}),(0,o.jsx)(h.Button,{variant:"ghost",size:"icon",onClick:r,"aria-label":"Next term",children:(0,o.jsx)(u.ChevronRight,{className:"h-4 w-4"})})]}),(0,o.jsxs)("div",{className:"grid grid-cols-[72px_repeat(5,1fr)] border-b bg-card/80 backdrop-blur supports-[backdrop-filter]:bg-card/60",children:[(0,o.jsx)("div",{className:"p-3 text-xs font-semibold text-muted-foreground border-r"}),x.map(e=>(0,o.jsx)("div",{className:"p-3 text-xs font-semibold text-muted-foreground border-r last:border-r-0 text-center",children:e.label},e.key))]}),0===R.length?(0,o.jsx)("div",{className:"flex-1 flex items-center justify-center text-sm text-muted-foreground",children:"Add classes to see your Monday–Friday calendar."}):(0,o.jsxs)("div",{className:"grid grid-cols-[72px_repeat(5,1fr)]",style:{height:(C-A)/60*52},children:[(0,o.jsx)("div",{className:"relative border-r bg-background/50",children:E.map((e,t)=>(0,o.jsxs)("div",{className:"absolute left-0 right-0",style:{top:52*t},children:[(0,o.jsx)("div",{className:"absolute left-0 right-0 border-t border-border/40"}),(0,o.jsx)("div",{className:(0,s.cn)("absolute left-0 top-0 px-2 text-[10px] text-muted-foreground bg-background/50 whitespace-nowrap",0===t&&"translate-y-0 mt-1",t===E.length-1&&"-translate-y-full -mt-1",0!==t&&t!==E.length-1&&"-translate-y-1/2"),children:`${(e+11)%12+1}${e>=12?"PM":"AM"}`})]},e))}),x.map(({key:e})=>(0,o.jsxs)("div",{className:"relative border-r last:border-r-0 bg-background/30",children:[E.map((e,t)=>(0,o.jsx)("div",{className:"absolute left-0 right-0 border-t border-border/40",style:{top:52*t}},t)),k[e].map(e=>{var t;let r,n=(e.start-A)/60*52,i=Math.max(18,(e.end-e.start)/60*52),l=100/e.colCount,a=e.colIndex*l;return(0,o.jsxs)("div",{onClick:()=>w(e.courseId),className:(0,s.cn)("group absolute rounded-md border px-2 py-1 text-left shadow-sm hover:shadow transition-shadow overflow-hidden cursor-pointer z-20",(t=e.courseId,(r=["bg-sky-500/15 border-sky-500/40 text-sky-950 dark:text-sky-50","bg-emerald-500/15 border-emerald-500/40 text-emerald-950 dark:text-emerald-50","bg-violet-500/15 border-violet-500/40 text-violet-950 dark:text-violet-50","bg-amber-500/15 border-amber-500/40 text-amber-950 dark:text-amber-50","bg-rose-500/15 border-rose-500/40 text-rose-950 dark:text-rose-50","bg-teal-500/15 border-teal-500/40 text-teal-950 dark:text-teal-50"])[function(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r)|0;return Math.abs(t)}(t)%r.length]),e.isOptional&&"opacity-55 border-dashed grayscale"),style:{top:n,height:i,left:`calc(${a}% + 2px)`,width:`calc(${l}% - 4px)`},title:`${e.courseCode}${e.isOptional?" • async":""} • ${e.location||"TBA"}`,children:[(0,o.jsx)("button",{type:"button",className:"absolute right-1 top-1 opacity-0 group-hover:opacity-100 transition-opacity rounded p-1 hover:bg-black/5 dark:hover:bg-white/10",onClick:t=>{t.stopPropagation(),v(e.courseId,e.day,e.startTime,e.endTime)},"aria-label":e.isOptional?"Unmark async":"Mark async",title:e.isOptional?"Unmark async":"Mark async",children:e.isOptional?(0,o.jsx)(m,{className:"h-3.5 w-3.5"}):(0,o.jsx)(p,{className:"h-3.5 w-3.5"})}),(0,o.jsx)("div",{className:"text-[11px] font-semibold leading-tight truncate",children:e.courseCode}),(0,o.jsx)("div",{className:"text-[10px] opacity-80 truncate",children:e.location||"TBA"})]},e.id)})]},e))]})]}),(0,o.jsxs)("div",{className:"space-y-2 min-h-0",children:[(0,o.jsxs)("h3",{className:"font-semibold text-sm mb-2",children:["Classes in ",e]}),0===T.length?(0,o.jsx)("div",{className:"text-center text-muted-foreground text-sm",children:"No classes this term."}):(0,o.jsx)("div",{className:"space-y-2",children:T.map(t=>{let r=(0,a.parseMeetingTimes)(t,e).map(j).filter(Boolean);return(0,o.jsxs)("div",{className:"p-3 border rounded-lg bg-card hover:bg-accent/50 transition-colors group cursor-pointer",onClick:()=>w(t.id),children:[(0,o.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,o.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,o.jsxs)("div",{className:"font-medium truncate",children:[t.subject," ",t.code]}),(0,o.jsx)("div",{className:"text-xs text-muted-foreground truncate",children:t.title})]}),(0,o.jsx)(h.Button,{variant:"ghost",size:"icon",className:"h-7 w-7 text-muted-foreground hover:text-destructive opacity-0 group-hover:opacity-100 transition-opacity shrink-0",onClick:e=>{e.stopPropagation(),c(t.id)},"aria-label":`Remove ${t.subject} ${t.code}`,children:(0,o.jsx)(f,{size:14})})]}),(0,o.jsx)("div",{className:"mt-2 text-xs text-muted-foreground space-y-1",children:0===r.length?(0,o.jsx)("div",{children:"Time TBA"}):r.map((e,t)=>(0,o.jsx)("div",{children:e},t))})]},t.id)})})]})]}),b&&(0,o.jsx)(g.CourseDetail,{courseId:b,onClose:()=>w(null),closeOnRemove:!0})]})}let b=(0,c.default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),w=(0,c.default)("calendar-days",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);var T=e.i(22016),j=e.i(18566),R=e.i(81140),N=e.i(20783),A=e.i(30030),C=e.i(26330),E=e.i(3536),k=e.i(65491),S=e.i(10772);let M=["top","right","bottom","left"],O=Math.min,P=Math.max,$=Math.round,D=Math.floor,L=e=>({x:e,y:e}),F={left:"right",right:"left",bottom:"top",top:"bottom"},I={start:"end",end:"start"};function B(e,t){return"function"==typeof e?e(t):e}function H(e){return e.split("-")[0]}function W(e){return e.split("-")[1]}function _(e){return"x"===e?"y":"x"}function z(e){return"y"===e?"height":"width"}let V=new Set(["top","bottom"]);function Y(e){return V.has(H(e))?"y":"x"}function U(e){return e.replace(/start|end/g,e=>I[e])}let Z=["left","right"],G=["right","left"],X=["top","bottom"],K=["bottom","top"];function q(e){return e.replace(/left|right|bottom|top/g,e=>F[e])}function Q(e){return"number"!=typeof e?{top:0,right:0,bottom:0,left:0,...e}:{top:e,right:e,bottom:e,left:e}}function J(e){let{x:t,y:r,width:n,height:o}=e;return{width:n,height:o,top:r,left:t,right:t+n,bottom:r+o,x:t,y:r}}function ee(e,t,r){let n,{reference:o,floating:i}=e,l=Y(t),a=_(Y(t)),s=z(a),c=H(t),d="y"===l,u=o.x+o.width/2-i.width/2,f=o.y+o.height/2-i.height/2,p=o[s]/2-i[s]/2;switch(c){case"top":n={x:u,y:o.y-i.height};break;case"bottom":n={x:u,y:o.y+o.height};break;case"right":n={x:o.x+o.width,y:f};break;case"left":n={x:o.x-i.width,y:f};break;default:n={x:o.x,y:o.y}}switch(W(t)){case"start":n[a]-=p*(r&&d?-1:1);break;case"end":n[a]+=p*(r&&d?-1:1)}return n}let et=async(e,t,r)=>{let{placement:n="bottom",strategy:o="absolute",middleware:i=[],platform:l}=r,a=i.filter(Boolean),s=await (null==l.isRTL?void 0:l.isRTL(t)),c=await l.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:u}=ee(c,n,s),f=n,p={},m=0;for(let r=0;r<a.length;r++){let{name:i,fn:h}=a[r],{x:g,y:x,data:y,reset:v}=await h({x:d,y:u,initialPlacement:n,placement:f,strategy:o,middlewareData:p,rects:c,platform:l,elements:{reference:e,floating:t}});d=null!=g?g:d,u=null!=x?x:u,p={...p,[i]:{...p[i],...y}},v&&m<=50&&(m++,"object"==typeof v&&(v.placement&&(f=v.placement),v.rects&&(c=!0===v.rects?await l.getElementRects({reference:e,floating:t,strategy:o}):v.rects),{x:d,y:u}=ee(c,f,s)),r=-1)}return{x:d,y:u,placement:f,strategy:o,middlewareData:p}};async function er(e,t){var r;void 0===t&&(t={});let{x:n,y:o,platform:i,rects:l,elements:a,strategy:s}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:f=!1,padding:p=0}=B(t,e),m=Q(p),h=a[f?"floating"===u?"reference":"floating":u],g=J(await i.getClippingRect({element:null==(r=await (null==i.isElement?void 0:i.isElement(h)))||r?h:h.contextElement||await (null==i.getDocumentElement?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:s})),x="floating"===u?{x:n,y:o,width:l.floating.width,height:l.floating.height}:l.reference,y=await (null==i.getOffsetParent?void 0:i.getOffsetParent(a.floating)),v=await (null==i.isElement?void 0:i.isElement(y))&&await (null==i.getScale?void 0:i.getScale(y))||{x:1,y:1},b=J(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:y,strategy:s}):x);return{top:(g.top-b.top+m.top)/v.y,bottom:(b.bottom-g.bottom+m.bottom)/v.y,left:(g.left-b.left+m.left)/v.x,right:(b.right-g.right+m.right)/v.x}}function en(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function eo(e){return M.some(t=>e[t]>=0)}let ei=new Set(["left","top"]);async function el(e,t){let{placement:r,platform:n,elements:o}=e,i=await (null==n.isRTL?void 0:n.isRTL(o.floating)),l=H(r),a=W(r),s="y"===Y(r),c=ei.has(l)?-1:1,d=i&&s?-1:1,u=B(t,e),{mainAxis:f,crossAxis:p,alignmentAxis:m}="number"==typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return a&&"number"==typeof m&&(p="end"===a?-1*m:m),s?{x:p*d,y:f*c}:{x:f*c,y:p*d}}function ea(){return"undefined"!=typeof window}function es(e){return eu(e)?(e.nodeName||"").toLowerCase():"#document"}function ec(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function ed(e){var t;return null==(t=(eu(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function eu(e){return!!ea()&&(e instanceof Node||e instanceof ec(e).Node)}function ef(e){return!!ea()&&(e instanceof Element||e instanceof ec(e).Element)}function ep(e){return!!ea()&&(e instanceof HTMLElement||e instanceof ec(e).HTMLElement)}function em(e){return!!ea()&&"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof ec(e).ShadowRoot)}let eh=new Set(["inline","contents"]);function eg(e){let{overflow:t,overflowX:r,overflowY:n,display:o}=eC(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!eh.has(o)}let ex=new Set(["table","td","th"]),ey=[":popover-open",":modal"];function ev(e){return ey.some(t=>{try{return e.matches(t)}catch(e){return!1}})}let eb=["transform","translate","scale","rotate","perspective"],ew=["transform","translate","scale","rotate","perspective","filter"],eT=["paint","layout","strict","content"];function ej(e){let t=eR(),r=ef(e)?eC(e):e;return eb.some(e=>!!r[e]&&"none"!==r[e])||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||ew.some(e=>(r.willChange||"").includes(e))||eT.some(e=>(r.contain||"").includes(e))}function eR(){return"undefined"!=typeof CSS&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}let eN=new Set(["html","body","#document"]);function eA(e){return eN.has(es(e))}function eC(e){return ec(e).getComputedStyle(e)}function eE(e){return ef(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ek(e){if("html"===es(e))return e;let t=e.assignedSlot||e.parentNode||em(e)&&e.host||ed(e);return em(t)?t.host:t}function eS(e,t,r){var n;void 0===t&&(t=[]),void 0===r&&(r=!0);let o=function e(t){let r=ek(t);return eA(r)?t.ownerDocument?t.ownerDocument.body:t.body:ep(r)&&eg(r)?r:e(r)}(e),i=o===(null==(n=e.ownerDocument)?void 0:n.body),l=ec(o);if(i){let e=eM(l);return t.concat(l,l.visualViewport||[],eg(o)?o:[],e&&r?eS(e):[])}return t.concat(o,eS(o,[],r))}function eM(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function eO(e){let t=eC(e),r=parseFloat(t.width)||0,n=parseFloat(t.height)||0,o=ep(e),i=o?e.offsetWidth:r,l=o?e.offsetHeight:n,a=$(r)!==i||$(n)!==l;return a&&(r=i,n=l),{width:r,height:n,$:a}}function eP(e){return ef(e)?e:e.contextElement}function e$(e){let t=eP(e);if(!ep(t))return L(1);let r=t.getBoundingClientRect(),{width:n,height:o,$:i}=eO(t),l=(i?$(r.width):r.width)/n,a=(i?$(r.height):r.height)/o;return l&&Number.isFinite(l)||(l=1),a&&Number.isFinite(a)||(a=1),{x:l,y:a}}let eD=L(0);function eL(e){let t=ec(e);return eR()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:eD}function eF(e,t,r,n){var o;void 0===t&&(t=!1),void 0===r&&(r=!1);let i=e.getBoundingClientRect(),l=eP(e),a=L(1);t&&(n?ef(n)&&(a=e$(n)):a=e$(e));let s=(void 0===(o=r)&&(o=!1),n&&(!o||n===ec(l))&&o)?eL(l):L(0),c=(i.left+s.x)/a.x,d=(i.top+s.y)/a.y,u=i.width/a.x,f=i.height/a.y;if(l){let e=ec(l),t=n&&ef(n)?ec(n):n,r=e,o=eM(r);for(;o&&n&&t!==r;){let e=e$(o),t=o.getBoundingClientRect(),n=eC(o),i=t.left+(o.clientLeft+parseFloat(n.paddingLeft))*e.x,l=t.top+(o.clientTop+parseFloat(n.paddingTop))*e.y;c*=e.x,d*=e.y,u*=e.x,f*=e.y,c+=i,d+=l,o=eM(r=ec(o))}}return J({width:u,height:f,x:c,y:d})}function eI(e,t){let r=eE(e).scrollLeft;return t?t.left+r:eF(ed(e)).left+r}function eB(e,t){let r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-eI(e,r),y:r.top+t.scrollTop}}let eH=new Set(["absolute","fixed"]);function eW(e,t,r){var n;let o;if("viewport"===t)o=function(e,t){let r=ec(e),n=ed(e),o=r.visualViewport,i=n.clientWidth,l=n.clientHeight,a=0,s=0;if(o){i=o.width,l=o.height;let e=eR();(!e||e&&"fixed"===t)&&(a=o.offsetLeft,s=o.offsetTop)}let c=eI(n);if(c<=0){let e=n.ownerDocument,t=e.body,r=getComputedStyle(t),o="CSS1Compat"===e.compatMode&&parseFloat(r.marginLeft)+parseFloat(r.marginRight)||0,l=Math.abs(n.clientWidth-t.clientWidth-o);l<=25&&(i-=l)}else c<=25&&(i+=c);return{width:i,height:l,x:a,y:s}}(e,r);else if("document"===t){let t,r,i,l,a,s,c;n=ed(e),t=ed(n),r=eE(n),i=n.ownerDocument.body,l=P(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),a=P(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight),s=-r.scrollLeft+eI(n),c=-r.scrollTop,"rtl"===eC(i).direction&&(s+=P(t.clientWidth,i.clientWidth)-l),o={width:l,height:a,x:s,y:c}}else if(ef(t)){let e,n,i,l,a,s;n=(e=eF(t,!0,"fixed"===r)).top+t.clientTop,i=e.left+t.clientLeft,l=ep(t)?e$(t):L(1),a=t.clientWidth*l.x,s=t.clientHeight*l.y,o={width:a,height:s,x:i*l.x,y:n*l.y}}else{let r=eL(e);o={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return J(o)}function e_(e){return"static"===eC(e).position}function ez(e,t){if(!ep(e)||"fixed"===eC(e).position)return null;if(t)return t(e);let r=e.offsetParent;return ed(e)===r&&(r=r.ownerDocument.body),r}function eV(e,t){var r;let n=ec(e);if(ev(e))return n;if(!ep(e)){let t=ek(e);for(;t&&!eA(t);){if(ef(t)&&!e_(t))return t;t=ek(t)}return n}let o=ez(e,t);for(;o&&(r=o,ex.has(es(r)))&&e_(o);)o=ez(o,t);return o&&eA(o)&&e_(o)&&!ej(o)?n:o||function(e){let t=ek(e);for(;ep(t)&&!eA(t);){if(ej(t))return t;if(ev(t))break;t=ek(t)}return null}(e)||n}let eY=async function(e){let t=this.getOffsetParent||eV,r=this.getDimensions,n=await r(e.floating);return{reference:function(e,t,r){let n=ep(t),o=ed(t),i="fixed"===r,l=eF(e,!0,i,t),a={scrollLeft:0,scrollTop:0},s=L(0);if(n||!n&&!i)if(("body"!==es(t)||eg(o))&&(a=eE(t)),n){let e=eF(t,!0,i,t);s.x=e.x+t.clientLeft,s.y=e.y+t.clientTop}else o&&(s.x=eI(o));i&&!n&&o&&(s.x=eI(o));let c=!o||n||i?L(0):eB(o,a);return{x:l.left+a.scrollLeft-s.x-c.x,y:l.top+a.scrollTop-s.y-c.y,width:l.width,height:l.height}}(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}},eU={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:r,offsetParent:n,strategy:o}=e,i="fixed"===o,l=ed(n),a=!!t&&ev(t.floating);if(n===l||a&&i)return r;let s={scrollLeft:0,scrollTop:0},c=L(1),d=L(0),u=ep(n);if((u||!u&&!i)&&(("body"!==es(n)||eg(l))&&(s=eE(n)),ep(n))){let e=eF(n);c=e$(n),d.x=e.x+n.clientLeft,d.y=e.y+n.clientTop}let f=!l||u||i?L(0):eB(l,s);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-s.scrollLeft*c.x+d.x+f.x,y:r.y*c.y-s.scrollTop*c.y+d.y+f.y}},getDocumentElement:ed,getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:n,strategy:o}=e,i=[..."clippingAncestors"===r?ev(t)?[]:function(e,t){let r=t.get(e);if(r)return r;let n=eS(e,[],!1).filter(e=>ef(e)&&"body"!==es(e)),o=null,i="fixed"===eC(e).position,l=i?ek(e):e;for(;ef(l)&&!eA(l);){let t=eC(l),r=ej(l);r||"fixed"!==t.position||(o=null),(i?!r&&!o:!r&&"static"===t.position&&!!o&&eH.has(o.position)||eg(l)&&!r&&function e(t,r){let n=ek(t);return!(n===r||!ef(n)||eA(n))&&("fixed"===eC(n).position||e(n,r))}(e,l))?n=n.filter(e=>e!==l):o=t,l=ek(l)}return t.set(e,n),n}(t,this._c):[].concat(r),n],l=i[0],a=i.reduce((e,r)=>{let n=eW(t,r,o);return e.top=P(n.top,e.top),e.right=O(n.right,e.right),e.bottom=O(n.bottom,e.bottom),e.left=P(n.left,e.left),e},eW(t,l,o));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},getOffsetParent:eV,getElementRects:eY,getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){let{width:t,height:r}=eO(e);return{width:t,height:r}},getScale:e$,isElement:ef,isRTL:function(e){return"rtl"===eC(e).direction}};function eZ(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}let eG=e=>({name:"arrow",options:e,async fn(t){let{x:r,y:n,placement:o,rects:i,platform:l,elements:a,middlewareData:s}=t,{element:c,padding:d=0}=B(e,t)||{};if(null==c)return{};let u=Q(d),f={x:r,y:n},p=_(Y(o)),m=z(p),h=await l.getDimensions(c),g="y"===p,x=g?"clientHeight":"clientWidth",y=i.reference[m]+i.reference[p]-f[p]-i.floating[m],v=f[p]-i.reference[p],b=await (null==l.getOffsetParent?void 0:l.getOffsetParent(c)),w=b?b[x]:0;w&&await (null==l.isElement?void 0:l.isElement(b))||(w=a.floating[x]||i.floating[m]);let T=w/2-h[m]/2-1,j=O(u[g?"top":"left"],T),R=O(u[g?"bottom":"right"],T),N=w-h[m]-R,A=w/2-h[m]/2+(y/2-v/2),C=P(j,O(A,N)),E=!s.arrow&&null!=W(o)&&A!==C&&i.reference[m]/2-(A<j?j:R)-h[m]/2<0,k=E?A<j?A-j:A-N:0;return{[p]:f[p]+k,data:{[p]:C,centerOffset:A-C-k,...E&&{alignmentOffset:k}},reset:E}}});var eX=e.i(74080),eK="undefined"!=typeof document?i.useLayoutEffect:function(){};function eq(e,t){let r,n,o;if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if((r=e.length)!==t.length)return!1;for(n=r;0!=n--;)if(!eq(e[n],t[n]))return!1;return!0}if((r=(o=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(n=r;0!=n--;)if(!({}).hasOwnProperty.call(t,o[n]))return!1;for(n=r;0!=n--;){let r=o[n];if(("_owner"!==r||!e.$$typeof)&&!eq(e[r],t[r]))return!1}return!0}return e!=e&&t!=t}function eQ(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function eJ(e,t){let r=eQ(e);return Math.round(t*r)/r}function e0(e){let t=i.useRef(e);return eK(()=>{t.current=e}),t}var e1=e.i(48425),e2=i.forwardRef((e,t)=>{let{children:r,width:n=10,height:i=5,...l}=e;return(0,o.jsx)(e1.Primitive.svg,{...l,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:(0,o.jsx)("polygon",{points:"0,0 30,0 15,10"})})});e2.displayName="Arrow";var e5=e.i(30207),e4=e.i(34620),e6="Popper",[e3,e7]=(0,A.createContextScope)(e6),[e8,e9]=e3(e6),te=e=>{let{__scopePopper:t,children:r}=e,[n,l]=i.useState(null);return(0,o.jsx)(e8,{scope:t,anchor:n,onAnchorChange:l,children:r})};te.displayName=e6;var tt="PopperAnchor",tr=i.forwardRef((e,t)=>{let{__scopePopper:r,virtualRef:n,...l}=e,a=e9(tt,r),s=i.useRef(null),c=(0,N.useComposedRefs)(t,s),d=i.useRef(null);return i.useEffect(()=>{let e=d.current;d.current=n?.current||s.current,e!==d.current&&a.onAnchorChange(d.current)}),n?null:(0,o.jsx)(e1.Primitive.div,{...l,ref:c})});tr.displayName=tt;var tn="PopperContent",[to,ti]=e3(tn),tl=i.forwardRef((e,t)=>{var r,n,l,a,s,c,d,u,f,p,m,h,g;let{__scopePopper:x,side:y="bottom",sideOffset:v=0,align:b="center",alignOffset:w=0,arrowPadding:T=0,avoidCollisions:j=!0,collisionBoundary:R=[],collisionPadding:A=0,sticky:C="partial",hideWhenDetached:E=!1,updatePositionStrategy:k="optimized",onPlaced:S,...M}=e,$=e9(tn,x),[L,F]=i.useState(null),I=(0,N.useComposedRefs)(t,e=>F(e)),[V,Q]=i.useState(null),J=function(e){let[t,r]=i.useState(void 0);return(0,e4.useLayoutEffect)(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let n,o;if(!Array.isArray(t)||!t.length)return;let i=t[0];if("borderBoxSize"in i){let e=i.borderBoxSize,t=Array.isArray(e)?e[0]:e;n=t.inlineSize,o=t.blockSize}else n=e.offsetWidth,o=e.offsetHeight;r({width:n,height:o})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}(V),ee=J?.width??0,ea=J?.height??0,es="number"==typeof A?A:{top:0,right:0,bottom:0,left:0,...A},ec=Array.isArray(R)?R:[R],eu=ec.length>0,ef={padding:es,boundary:ec.filter(td),altBoundary:eu},{refs:ep,floatingStyles:em,placement:eh,isPositioned:eg,middlewareData:ex}=function(e){void 0===e&&(e={});let{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:o,elements:{reference:l,floating:a}={},transform:s=!0,whileElementsMounted:c,open:d}=e,[u,f]=i.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=i.useState(n);eq(p,n)||m(n);let[h,g]=i.useState(null),[x,y]=i.useState(null),v=i.useCallback(e=>{e!==j.current&&(j.current=e,g(e))},[]),b=i.useCallback(e=>{e!==R.current&&(R.current=e,y(e))},[]),w=l||h,T=a||x,j=i.useRef(null),R=i.useRef(null),N=i.useRef(u),A=null!=c,C=e0(c),E=e0(o),k=e0(d),S=i.useCallback(()=>{var e,n;let o,i,l;if(!j.current||!R.current)return;let a={placement:t,strategy:r,middleware:p};E.current&&(a.platform=E.current),(e=j.current,n=R.current,o=new Map,l={...(i={platform:eU,...a}).platform,_c:o},et(e,n,{...i,platform:l})).then(e=>{let t={...e,isPositioned:!1!==k.current};M.current&&!eq(N.current,t)&&(N.current=t,eX.flushSync(()=>{f(t)}))})},[p,t,r,E,k]);eK(()=>{!1===d&&N.current.isPositioned&&(N.current.isPositioned=!1,f(e=>({...e,isPositioned:!1})))},[d]);let M=i.useRef(!1);eK(()=>(M.current=!0,()=>{M.current=!1}),[]),eK(()=>{if(w&&(j.current=w),T&&(R.current=T),w&&T){if(C.current)return C.current(w,T,S);S()}},[w,T,S,C,A]);let O=i.useMemo(()=>({reference:j,floating:R,setReference:v,setFloating:b}),[v,b]),P=i.useMemo(()=>({reference:w,floating:T}),[w,T]),$=i.useMemo(()=>{let e={position:r,left:0,top:0};if(!P.floating)return e;let t=eJ(P.floating,u.x),n=eJ(P.floating,u.y);return s?{...e,transform:"translate("+t+"px, "+n+"px)",...eQ(P.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:t,top:n}},[r,s,P.floating,u.x,u.y]);return i.useMemo(()=>({...u,update:S,refs:O,elements:P,floatingStyles:$}),[u,S,O,P,$])}({strategy:"fixed",placement:y+("center"!==b?"-"+b:""),whileElementsMounted:(...e)=>(function(e,t,r,n){let o;void 0===n&&(n={});let{ancestorScroll:i=!0,ancestorResize:l=!0,elementResize:a="function"==typeof ResizeObserver,layoutShift:s="function"==typeof IntersectionObserver,animationFrame:c=!1}=n,d=eP(e),u=i||l?[...d?eS(d):[],...eS(t)]:[];u.forEach(e=>{i&&e.addEventListener("scroll",r,{passive:!0}),l&&e.addEventListener("resize",r)});let f=d&&s?function(e,t){let r,n=null,o=ed(e);function i(){var e;clearTimeout(r),null==(e=n)||e.disconnect(),n=null}return!function l(a,s){void 0===a&&(a=!1),void 0===s&&(s=1),i();let c=e.getBoundingClientRect(),{left:d,top:u,width:f,height:p}=c;if(a||t(),!f||!p)return;let m={rootMargin:-D(u)+"px "+-D(o.clientWidth-(d+f))+"px "+-D(o.clientHeight-(u+p))+"px "+-D(d)+"px",threshold:P(0,O(1,s))||1},h=!0;function g(t){let n=t[0].intersectionRatio;if(n!==s){if(!h)return l();n?l(!1,n):r=setTimeout(()=>{l(!1,1e-7)},1e3)}1!==n||eZ(c,e.getBoundingClientRect())||l(),h=!1}try{n=new IntersectionObserver(g,{...m,root:o.ownerDocument})}catch(e){n=new IntersectionObserver(g,m)}n.observe(e)}(!0),i}(d,r):null,p=-1,m=null;a&&(m=new ResizeObserver(e=>{let[n]=e;n&&n.target===d&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var e;null==(e=m)||e.observe(t)})),r()}),d&&!c&&m.observe(d),m.observe(t));let h=c?eF(e):null;return c&&function t(){let n=eF(e);h&&!eZ(h,n)&&r(),h=n,o=requestAnimationFrame(t)}(),r(),()=>{var e;u.forEach(e=>{i&&e.removeEventListener("scroll",r),l&&e.removeEventListener("resize",r)}),null==f||f(),null==(e=m)||e.disconnect(),m=null,c&&cancelAnimationFrame(o)}})(...e,{animationFrame:"always"===k}),elements:{reference:$.anchor},middleware:[{...{name:"offset",options:n=r={mainAxis:v+ea,alignmentAxis:w},async fn(e){var t,r;let{x:o,y:i,placement:l,middlewareData:a}=e,s=await el(e,n);return l===(null==(t=a.offset)?void 0:t.placement)&&null!=(r=a.arrow)&&r.alignmentOffset?{}:{x:o+s.x,y:i+s.y,data:{...s,placement:l}}}},options:[r,void 0]},j&&{...{name:"shift",options:s=a={mainAxis:!0,crossAxis:!1,limiter:"partial"===C?{...(l=void 0,{options:l={},fn(e){let{x:t,y:r,placement:n,rects:o,middlewareData:i}=e,{offset:a=0,mainAxis:s=!0,crossAxis:c=!0}=B(l,e),d={x:t,y:r},u=Y(n),f=_(u),p=d[f],m=d[u],h=B(a,e),g="number"==typeof h?{mainAxis:h,crossAxis:0}:{mainAxis:0,crossAxis:0,...h};if(s){let e="y"===f?"height":"width",t=o.reference[f]-o.floating[e]+g.mainAxis,r=o.reference[f]+o.reference[e]-g.mainAxis;p<t?p=t:p>r&&(p=r)}if(c){var x,y;let e="y"===f?"width":"height",t=ei.has(H(n)),r=o.reference[u]-o.floating[e]+(t&&(null==(x=i.offset)?void 0:x[u])||0)+(t?0:g.crossAxis),l=o.reference[u]+o.reference[e]+(t?0:(null==(y=i.offset)?void 0:y[u])||0)-(t?g.crossAxis:0);m<r?m=r:m>l&&(m=l)}return{[f]:p,[u]:m}}}),options:[void 0,void 0]}:void 0,...ef},async fn(e){let{x:t,y:r,placement:n}=e,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:e=>{let{x:t,y:r}=e;return{x:t,y:r}}},...a}=B(s,e),c={x:t,y:r},d=await er(e,a),u=Y(H(n)),f=_(u),p=c[f],m=c[u];if(o){let e="y"===f?"top":"left",t="y"===f?"bottom":"right",r=p+d[e],n=p-d[t];p=P(r,O(p,n))}if(i){let e="y"===u?"top":"left",t="y"===u?"bottom":"right",r=m+d[e],n=m-d[t];m=P(r,O(m,n))}let h=l.fn({...e,[f]:p,[u]:m});return{...h,data:{x:h.x-t,y:h.y-r,enabled:{[f]:o,[u]:i}}}}},options:[a,void 0]},j&&{...{name:"flip",options:d=c={...ef},async fn(e){var t,r,n,o,i,l,a,s;let c,u,f,{placement:p,middlewareData:m,rects:h,initialPlacement:g,platform:x,elements:y}=e,{mainAxis:v=!0,crossAxis:b=!0,fallbackPlacements:w,fallbackStrategy:T="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:R=!0,...N}=B(d,e);if(null!=(t=m.arrow)&&t.alignmentOffset)return{};let A=H(p),C=Y(g),E=H(g)===g,k=await (null==x.isRTL?void 0:x.isRTL(y.floating)),S=w||(E||!R?[q(g)]:(c=q(g),[U(g),c,U(c)])),M="none"!==j;!w&&M&&S.push(...(u=W(g),f=function(e,t,r){switch(e){case"top":case"bottom":if(r)return t?G:Z;return t?Z:G;case"left":case"right":return t?X:K;default:return[]}}(H(g),"start"===j,k),u&&(f=f.map(e=>e+"-"+u),R&&(f=f.concat(f.map(U)))),f));let O=[g,...S],P=await er(e,N),$=[],D=(null==(r=m.flip)?void 0:r.overflows)||[];if(v&&$.push(P[A]),b){let e,t,r,n,o=(l=p,a=h,void 0===(s=k)&&(s=!1),e=W(l),r=z(t=_(Y(l))),n="x"===t?e===(s?"end":"start")?"right":"left":"start"===e?"bottom":"top",a.reference[r]>a.floating[r]&&(n=q(n)),[n,q(n)]);$.push(P[o[0]],P[o[1]])}if(D=[...D,{placement:p,overflows:$}],!$.every(e=>e<=0)){let e=((null==(n=m.flip)?void 0:n.index)||0)+1,t=O[e];if(t&&("alignment"!==b||C===Y(t)||D.every(e=>Y(e.placement)!==C||e.overflows[0]>0)))return{data:{index:e,overflows:D},reset:{placement:t}};let r=null==(o=D.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:o.placement;if(!r)switch(T){case"bestFit":{let e=null==(i=D.filter(e=>{if(M){let t=Y(e.placement);return t===C||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:i[0];e&&(r=e);break}case"initialPlacement":r=g}if(p!==r)return{reset:{placement:r}}}return{}}},options:[c,void 0]},{...{name:"size",options:f=u={...ef,apply:({elements:e,rects:t,availableWidth:r,availableHeight:n})=>{let{width:o,height:i}=t.reference,l=e.floating.style;l.setProperty("--radix-popper-available-width",`${r}px`),l.setProperty("--radix-popper-available-height",`${n}px`),l.setProperty("--radix-popper-anchor-width",`${o}px`),l.setProperty("--radix-popper-anchor-height",`${i}px`)}},async fn(e){var t,r;let n,o,{placement:i,rects:l,platform:a,elements:s}=e,{apply:c=()=>{},...d}=B(f,e),u=await er(e,d),p=H(i),m=W(i),h="y"===Y(i),{width:g,height:x}=l.floating;"top"===p||"bottom"===p?(n=p,o=m===(await (null==a.isRTL?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(o=p,n="end"===m?"top":"bottom");let y=x-u.top-u.bottom,v=g-u.left-u.right,b=O(x-u[n],y),w=O(g-u[o],v),T=!e.middlewareData.shift,j=b,R=w;if(null!=(t=e.middlewareData.shift)&&t.enabled.x&&(R=v),null!=(r=e.middlewareData.shift)&&r.enabled.y&&(j=y),T&&!m){let e=P(u.left,0),t=P(u.right,0),r=P(u.top,0),n=P(u.bottom,0);h?R=g-2*(0!==e||0!==t?e+t:P(u.left,u.right)):j=x-2*(0!==r||0!==n?r+n:P(u.top,u.bottom))}await c({...e,availableWidth:R,availableHeight:j});let N=await a.getDimensions(s.floating);return g!==N.width||x!==N.height?{reset:{rects:!0}}:{}}},options:[u,void 0]},V&&{...{name:"arrow",options:m=p={element:V,padding:T},fn(e){let{element:t,padding:r}="function"==typeof m?m(e):m;return t&&({}).hasOwnProperty.call(t,"current")?null!=t.current?eG({element:t.current,padding:r}).fn(e):{}:t?eG({element:t,padding:r}).fn(e):{}}},options:[p,void 0]},tu({arrowWidth:ee,arrowHeight:ea}),E&&{...{name:"hide",options:g=h={strategy:"referenceHidden",...ef},async fn(e){let{rects:t}=e,{strategy:r="referenceHidden",...n}=B(g,e);switch(r){case"referenceHidden":{let r=en(await er(e,{...n,elementContext:"reference"}),t.reference);return{data:{referenceHiddenOffsets:r,referenceHidden:eo(r)}}}case"escaped":{let r=en(await er(e,{...n,altBoundary:!0}),t.floating);return{data:{escapedOffsets:r,escaped:eo(r)}}}default:return{}}}},options:[h,void 0]}]}),[ey,ev]=tf(eh),eb=(0,e5.useCallbackRef)(S);(0,e4.useLayoutEffect)(()=>{eg&&eb?.()},[eg,eb]);let ew=ex.arrow?.x,eT=ex.arrow?.y,ej=ex.arrow?.centerOffset!==0,[eR,eN]=i.useState();return(0,e4.useLayoutEffect)(()=>{L&&eN(window.getComputedStyle(L).zIndex)},[L]),(0,o.jsx)("div",{ref:ep.setFloating,"data-radix-popper-content-wrapper":"",style:{...em,transform:eg?em.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:eR,"--radix-popper-transform-origin":[ex.transformOrigin?.x,ex.transformOrigin?.y].join(" "),...ex.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:(0,o.jsx)(to,{scope:x,placedSide:ey,onArrowChange:Q,arrowX:ew,arrowY:eT,shouldHideArrow:ej,children:(0,o.jsx)(e1.Primitive.div,{"data-side":ey,"data-align":ev,...M,ref:I,style:{...M.style,animation:eg?void 0:"none"}})})})});tl.displayName=tn;var ta="PopperArrow",ts={top:"bottom",right:"left",bottom:"top",left:"right"},tc=i.forwardRef(function(e,t){let{__scopePopper:r,...n}=e,i=ti(ta,r),l=ts[i.placedSide];return(0,o.jsx)("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:(0,o.jsx)(e2,{...n,ref:t,style:{...n.style,display:"block"}})})});function td(e){return null!==e}tc.displayName=ta;var tu=e=>({name:"transformOrigin",options:e,fn(t){let{placement:r,rects:n,middlewareData:o}=t,i=o.arrow?.centerOffset!==0,l=i?0:e.arrowWidth,a=i?0:e.arrowHeight,[s,c]=tf(r),d={start:"0%",center:"50%",end:"100%"}[c],u=(o.arrow?.x??0)+l/2,f=(o.arrow?.y??0)+a/2,p="",m="";return"bottom"===s?(p=i?d:`${u}px`,m=`${-a}px`):"top"===s?(p=i?d:`${u}px`,m=`${n.floating.height+a}px`):"right"===s?(p=`${-a}px`,m=i?d:`${f}px`):"left"===s&&(p=`${n.floating.width+a}px`,m=i?d:`${f}px`),{data:{x:p,y:m}}}});function tf(e){let[t,r="center"]=e.split("-");return[t,r]}var tp=e.i(74606),tm=e.i(96626),th=Symbol("radix.slottable");function tg(e){return i.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===th}var tx=e.i(69340),ty=e.i(86312),tv=e.i(85369),tb="Popover",[tw,tT]=(0,A.createContextScope)(tb,[e7]),tj=e7(),[tR,tN]=tw(tb),tA=e=>{let{__scopePopover:t,children:r,open:n,defaultOpen:l,onOpenChange:a,modal:s=!1}=e,c=tj(t),d=i.useRef(null),[u,f]=i.useState(!1),[p,m]=(0,tx.useControllableState)({prop:n,defaultProp:l??!1,onChange:a,caller:tb});return(0,o.jsx)(te,{...c,children:(0,o.jsx)(tR,{scope:t,contentId:(0,S.useId)(),triggerRef:d,open:p,onOpenChange:m,onOpenToggle:i.useCallback(()=>m(e=>!e),[m]),hasCustomAnchor:u,onCustomAnchorAdd:i.useCallback(()=>f(!0),[]),onCustomAnchorRemove:i.useCallback(()=>f(!1),[]),modal:s,children:r})})};tA.displayName=tb;var tC="PopoverAnchor";i.forwardRef((e,t)=>{let{__scopePopover:r,...n}=e,l=tN(tC,r),a=tj(r),{onCustomAnchorAdd:s,onCustomAnchorRemove:c}=l;return i.useEffect(()=>(s(),()=>c()),[s,c]),(0,o.jsx)(tr,{...a,...n,ref:t})}).displayName=tC;var tE="PopoverTrigger",tk=i.forwardRef((e,t)=>{let{__scopePopover:r,...n}=e,i=tN(tE,r),l=tj(r),a=(0,N.useComposedRefs)(t,i.triggerRef),s=(0,o.jsx)(e1.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":tW(i.open),...n,ref:a,onClick:(0,R.composeEventHandlers)(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?s:(0,o.jsx)(tr,{asChild:!0,...l,children:s})});tk.displayName=tE;var tS="PopoverPortal",[tM,tO]=tw(tS,{forceMount:void 0}),tP=e=>{let{__scopePopover:t,forceMount:r,children:n,container:i}=e,l=tN(tS,t);return(0,o.jsx)(tM,{scope:t,forceMount:r,children:(0,o.jsx)(tm.Presence,{present:r||l.open,children:(0,o.jsx)(tp.Portal,{asChild:!0,container:i,children:n})})})};tP.displayName=tS;var t$="PopoverContent",tD=i.forwardRef((e,t)=>{let r=tO(t$,e.__scopePopover),{forceMount:n=r.forceMount,...i}=e,l=tN(t$,e.__scopePopover);return(0,o.jsx)(tm.Presence,{present:n||l.open,children:l.modal?(0,o.jsx)(tF,{...i,ref:t}):(0,o.jsx)(tI,{...i,ref:t})})});tD.displayName=t$;var tL=((n=i.forwardRef((e,t)=>{let{children:r,...n}=e;if(i.isValidElement(r)){var o;let e,l,a=(o=r,(l=(e=Object.getOwnPropertyDescriptor(o.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.ref:(l=(e=Object.getOwnPropertyDescriptor(o,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.props.ref:o.props.ref||o.ref),s=function(e,t){let r={...t};for(let n in t){let o=e[n],i=t[n];/^on[A-Z]/.test(n)?o&&i?r[n]=(...e)=>{let t=i(...e);return o(...e),t}:o&&(r[n]=o):"style"===n?r[n]={...o,...i}:"className"===n&&(r[n]=[o,i].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==i.Fragment&&(s.ref=t?(0,N.composeRefs)(t,a):a),i.cloneElement(r,s)}return i.Children.count(r)>1?i.Children.only(null):null})).displayName="PopoverContent.RemoveScroll.SlotClone",t=n,(r=i.forwardRef((e,r)=>{let{children:n,...l}=e,a=i.Children.toArray(n),s=a.find(tg);if(s){let e=s.props.children,n=a.map(t=>t!==s?t:i.Children.count(e)>1?i.Children.only(null):i.isValidElement(e)?e.props.children:null);return(0,o.jsx)(t,{...l,ref:r,children:i.isValidElement(e)?i.cloneElement(e,void 0,n):null})}return(0,o.jsx)(t,{...l,ref:r,children:n})})).displayName="PopoverContent.RemoveScroll.Slot",r),tF=i.forwardRef((e,t)=>{let r=tN(t$,e.__scopePopover),n=i.useRef(null),l=(0,N.useComposedRefs)(t,n),a=i.useRef(!1);return i.useEffect(()=>{let e=n.current;if(e)return(0,ty.hideOthers)(e)},[]),(0,o.jsx)(tv.RemoveScroll,{as:tL,allowPinchZoom:!0,children:(0,o.jsx)(tB,{...e,ref:l,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,R.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),a.current||r.triggerRef.current?.focus()}),onPointerDownOutside:(0,R.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;a.current=2===t.button||r},{checkForDefaultPrevented:!1}),onFocusOutside:(0,R.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),tI=i.forwardRef((e,t)=>{let r=tN(t$,e.__scopePopover),n=i.useRef(!1),l=i.useRef(!1);return(0,o.jsx)(tB,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(n.current||r.triggerRef.current?.focus(),t.preventDefault()),n.current=!1,l.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(n.current=!0,"pointerdown"===t.detail.originalEvent.type&&(l.current=!0));let o=t.target;r.triggerRef.current?.contains(o)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&l.current&&t.preventDefault()}})}),tB=i.forwardRef((e,t)=>{let{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:a,onEscapeKeyDown:s,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...f}=e,p=tN(t$,r),m=tj(r);return(0,E.useFocusGuards)(),(0,o.jsx)(k.FocusScope,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:l,children:(0,o.jsx)(C.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:u,onEscapeKeyDown:s,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>p.onOpenChange(!1),children:(0,o.jsx)(tl,{"data-state":tW(p.open),role:"dialog",id:p.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),tH="PopoverClose";function tW(e){return e?"open":"closed"}i.forwardRef((e,t)=>{let{__scopePopover:r,...n}=e,i=tN(tH,r);return(0,o.jsx)(e1.Primitive.button,{type:"button",...n,ref:t,onClick:(0,R.composeEventHandlers)(e.onClick,()=>i.onOpenChange(!1))})}).displayName=tH,i.forwardRef((e,t)=>{let{__scopePopover:r,...n}=e,i=tj(r);return(0,o.jsx)(tc,{...i,...n,ref:t})}).displayName="PopoverArrow";let t_=i.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},i)=>(0,o.jsx)(tP,{children:(0,o.jsx)(tD,{ref:i,align:t,sideOffset:r,className:(0,s.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));function tz(){let{items:e}=(0,l.useCartStore)(),[t,r]=(0,i.useState)({}),n=(0,j.useSearchParams)(),c=(0,i.useMemo)(()=>{let e=new URLSearchParams(n.toString());e.delete("courseId");let t=e.toString();return t?`/?${t}`:"/"},[n]),u=["Winter","Spring","Summer","Autumn"],[f,p]=(0,i.useState)(()=>{let e=new Date,t=e.getFullYear(),r=e.getMonth(),n=e.getDate();return r>1||1===r&&n>=25?`Spring ${t}`:r>10||10===r&&n>=25?`Winter ${t+1}`:r<1||1===r&&n<25?`Winter ${t}`:`Autumn ${t}`}),m=(0,i.useMemo)(()=>e.filter(e=>e.selectedTerm?e.selectedTerm===f:e.terms&&f&&e.terms.includes(f)||e.term===f),[e,f]),{totalUnitsMin:g,totalUnitsMax:x}=(0,i.useMemo)(()=>{let e=0,t=0;return m.forEach(r=>{if(r.selectedSectionId&&r.sections){let n=r.sections.find(e=>e.classId===r.selectedSectionId);if(n){let r="string"==typeof n.units?parseFloat(n.units):n.units;if(!isNaN(r)){e+=r,t+=r;return}}}if(r.units){let n=r.units.split("-").map(e=>parseFloat(e.trim()));n.length>0&&!isNaN(n[0])&&(e+=n[0],t+=n.length>1&&!isNaN(n[1])?n[1]:n[0])}}),{totalUnitsMin:e,totalUnitsMax:t}},[m]),y=t[f];return(0,o.jsxs)("div",{className:"flex flex-col h-screen bg-background",children:[(0,o.jsx)("header",{className:"flex-none h-16 border-b bg-card",children:(0,o.jsxs)("div",{className:"h-full w-full max-w-7xl mx-auto px-6 flex items-center justify-between gap-4",children:[(0,o.jsx)("div",{className:"flex items-center gap-4",children:(0,o.jsx)(T.default,{href:c,children:(0,o.jsxs)(h.Button,{variant:"ghost",size:"sm",className:"gap-2",children:[(0,o.jsx)(d,{className:"h-4 w-4"}),"Back to Courses"]})})}),(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsxs)(h.Button,{variant:"outline",size:"sm",className:"gap-2",onClick:()=>{let e=m.flatMap(e=>(0,a.parseMeetingTimes)(e,f).flatMap(t=>t.startTime&&t.endTime?(t.days||[]).map(r=>({courseId:e.id,courseCode:`${e.subject} ${e.code}`,day:r,location:t.location||"",start:(0,a.timeToMinutes)(t.startTime),end:(0,a.timeToMinutes)(t.endTime)})):[])),t=`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//Revised Navigator//Stanford Course Schedule//EN
CALSCALE:GREGORIAN
METHOD:PUBLISH
X-WR-CALNAME:Stanford Schedule - ${f}
X-WR-TIMEZONE:America/Los_Angeles
BEGIN:VTIMEZONE
TZID:America/Los_Angeles
X-LIC-LOCATION:America/Los_Angeles
BEGIN:DAYLIGHT
TZOFFSETFROM:-0800
TZOFFSETTO:-0700
TZNAME:PDT
DTSTART:19700308T020000
RRULE:FREQ=YEARLY;BYMONTH=3;BYDAY=2SU
END:DAYLIGHT
BEGIN:STANDARD
TZOFFSETFROM:-0700
TZOFFSETTO:-0800
TZNAME:PST
DTSTART:19701101T020000
RRULE:FREQ=YEARLY;BYMONTH=11;BYDAY=1SU
END:STANDARD
END:VTIMEZONE
`;e.forEach(e=>{let r=new Date;"Autumn 2025"===f?r=new Date(2025,8,22):"Winter 2026"===f?r=new Date(2026,0,5):"Spring 2026"===f&&(r=new Date(2026,2,30));let n={Mon:1,Tue:2,Wed:3,Thu:4,Fri:5}[e.day];if(!n)return;let o=new Date(r),i=n-o.getDay();i<0&&(i+=7),o.setDate(o.getDate()+i);let l=o.getFullYear(),a=(o.getMonth()+1).toString().padStart(2,"0"),s=o.getDate().toString().padStart(2,"0"),c=e=>{let t=Math.floor(e/60).toString().padStart(2,"0"),r=(e%60).toString().padStart(2,"0");return`${t}${r}00`},d=`${l}${a}${s}T${c(e.start)}`,u=`${l}${a}${s}T${c(e.end)}`;t+=`BEGIN:VEVENT
SUMMARY:${e.courseCode}
DESCRIPTION:${e.courseCode} - ${e.location}
LOCATION:${e.location}
DTSTART;TZID=America/Los_Angeles:${d}
DTEND;TZID=America/Los_Angeles:${u}
RRULE:FREQ=WEEKLY;COUNT=10
UID:${e.courseId}-${e.day}-${d}@navigator.stanford.edu
END:VEVENT
`});let r=new Blob([t+="END:VCALENDAR"],{type:"text/calendar;charset=utf-8"}),n=document.createElement("a");n.href=window.URL.createObjectURL(r),n.setAttribute("download",`stanford_schedule_${f.replace(" ","_")}.ics`),document.body.appendChild(n),n.click(),document.body.removeChild(n)},disabled:0===m.length,title:0===m.length?"Add classes to export":"Export schedule as .ics",children:[(0,o.jsx)(w,{className:"h-4 w-4"}),"Export .ics"]}),x>20&&!y?(0,o.jsxs)(tA,{children:[(0,o.jsx)(tk,{asChild:!0,children:(0,o.jsxs)("div",{className:(0,s.cn)("flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium border transition-colors cursor-pointer","bg-destructive/10 text-destructive border-destructive/20 hover:bg-destructive/20"),children:[(0,o.jsx)(b,{className:"h-4 w-4"}),(0,o.jsxs)("span",{children:[g===x?g:`${g}-${x}`," ",1===g&&1===x?"Unit":"Units"]})]})}),(0,o.jsx)(t_,{className:"w-80",children:(0,o.jsxs)("div",{className:"space-y-3",children:[(0,o.jsxs)("div",{className:"space-y-1",children:[(0,o.jsxs)("h4",{className:"font-medium text-destructive flex items-center gap-2",children:[(0,o.jsx)(b,{className:"h-4 w-4"}),"Unit Overload"]}),(0,o.jsxs)("p",{className:"text-sm text-muted-foreground",children:["You are exceeding the typical 20 unit limit for ",f,"."]})]}),(0,o.jsx)("div",{className:"flex justify-end",children:(0,o.jsx)(h.Button,{variant:"secondary",size:"sm",onClick:()=>r(e=>({...e,[f]:!0})),children:"Ignore"})})]})})]}):(0,o.jsx)("div",{className:(0,s.cn)("flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium border transition-colors","bg-secondary text-secondary-foreground border-transparent"),children:(0,o.jsxs)("span",{children:[g===x?g:`${g}-${x}`," Units"]})})]})]})}),(0,o.jsx)("main",{className:"flex-1 overflow-auto p-6",children:(0,o.jsx)("div",{className:"min-h-full w-full max-w-7xl mx-auto flex flex-col",children:(0,o.jsx)(v,{currentTerm:f,onPrevTerm:()=>{p(e=>{let[t,r]=e.split(" "),n=parseInt(r),o=u.indexOf(t);return 0===o?`Autumn ${n-1}`:`${u[o-1]} ${n}`})},onNextTerm:()=>{p(e=>{let[t,r]=e.split(" "),n=parseInt(r),o=u.indexOf(t);return 3===o?`Winter ${n+1}`:`${u[o+1]} ${n}`})}})})})]})}function tV(){return(0,o.jsx)(i.Suspense,{fallback:(0,o.jsx)("div",{className:"flex h-screen items-center justify-center",children:"Loading..."}),children:(0,o.jsx)(tz,{})})}t_.displayName=tD.displayName,e.s(["default",()=>tV],10629)}]);